// Test higher-order functions with pipe operator

laat getalle = [1, 2, 3, 4, 5]

// kaart (map) - double each number
laat dubbel = fn(x) x * 2
laat verdubbel = getalle -> kaart(dubbel)
druk(verdubbel)

// kaart with inline lambda
laat kwadrate = getalle -> kaart(fn(x) x * x)
druk(kwadrate)

// filter - get even numbers
laat is_ewe = fn(x) x % 2 == 0
laat ewe_getalle = getalle -> filter(is_ewe)
druk(ewe_getalle)

// filter with inline lambda - numbers greater than 2
laat groter = getalle -> filter(fn(x) x > 2)
druk(groter)

// vou (fold/reduce) - sum all numbers
laat som = fn(acc, x) acc + x
laat totaal = getalle -> vou(0, som)
druk(totaal)

// vou - multiply all numbers
laat produk = getalle -> vou(1, fn(acc, x) acc * x)
druk(produk)

// Combine HOFs with pipes: sum of squares of even numbers
laat som_ewe_kwadrate = getalle -> filter(fn(x) x % 2 == 0) -> kaart(fn(x) x * x) -> vou(0, fn(acc, x) acc + x)
druk(som_ewe_kwadrate)

// vir_elk - print each element
druk("Elke element:")
getalle -> vir_elk(fn(x) {
    druk(x)
})

// Test with closures capturing variables
laat vermenigvuldiger = 10
laat geskaal = getalle -> kaart(fn(x) x * vermenigvuldiger)
druk(geskaal)

// Filter with closure
laat grens = 3
laat bokant_grens = getalle -> filter(fn(x) x > grens)
druk(bokant_grens)

// Fold with closure
laat aanvanklike = 100
laat totaal_plus = getalle -> vou(aanvanklike, fn(acc, x) acc + x)
druk(totaal_plus)

// Empty list operations
laat leeg_lys = []
druk(leeg_lys -> kaart(fn(x) x * 2))
druk(leeg_lys -> filter(fn(x) x > 0))
druk(leeg_lys -> vou(0, fn(acc, x) acc + x))

// String lists with HOFs
laat woorde = ["hallo", "wÃªreld", "arkaan"]
laat lengtes = woorde -> kaart(fn(w) lengte(w))
druk(lengtes)

// Filter strings by length
laat lang_woorde = woorde -> filter(fn(w) lengte(w) > 5)
druk(lang_woorde)
